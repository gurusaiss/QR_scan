<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Files - QR Document Delivery</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“¦ <span id="brandName">QR Document Delivery</span></h1>
            <p id="headerText">Loading files...</p>
        </div>

        <!-- Loading State -->
        <div class="card" id="loadingCard">
            <div style="text-align: center; padding: 2rem;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">â³</div>
                <h3>Loading your files...</h3>
            </div>
        </div>

        <!-- Password Protection -->
        <div class="card" id="passwordCard" style="display: none;">
            <h2 style="margin-bottom: 1.5rem;">ğŸ”’ Password Protected</h2>
            <p style="color: var(--text-secondary); margin-bottom: 2rem;">This share is password protected. Please enter
                the password to access the files.</p>

            <div class="form-group">
                <label for="passwordInput">Password</label>
                <input type="password" id="passwordInput" placeholder="Enter password" autofocus>
            </div>

            <button class="btn btn-primary btn-full" id="verifyBtn">
                <span>ğŸ”“</span>
                <span>Unlock Files</span>
            </button>

            <div id="passwordError" style="color: var(--error); margin-top: 1rem; display: none;">
                âŒ Incorrect password. Please try again.
            </div>
        </div>

        <!-- Download Card -->
        <div class="card" id="downloadCard" style="display: none;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“¥</div>
                <h2 id="downloadTitle">Ready to Download</h2>
                <p style="color: var(--text-secondary); margin-top: 0.5rem;" id="fileCountText">0 files ready</p>
            </div>

            <!-- Download All Button -->
            <button class="btn btn-primary btn-full" id="downloadAllBtn" style="margin-bottom: 2rem;">
                <span>â¬‡ï¸</span>
                <span id="downloadBtnText">Download All Files</span>
            </button>

            <!-- File List -->
            <div id="downloadFileList"></div>

            <!-- Progress -->
            <div class="progress-bar" id="downloadProgress" style="display: none; margin-top: 2rem;">
                <div class="progress-fill" id="downloadProgressFill" style="width: 0%"></div>
            </div>

            <div id="downloadStatus" style="text-align: center; margin-top: 1rem; color: var(--text-secondary);"></div>
        </div>

        <!-- Error Card -->
        <div class="card" id="errorCard" style="display: none;">
            <div style="text-align: center; padding: 2rem;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">âŒ</div>
                <h2>Share Not Found</h2>
                <p style="color: var(--text-secondary); margin-top: 1rem;">This share may have expired or been removed.
                </p>
            </div>
        </div>
    </div>

    <script src="/js/download.js"></script>
</body>

</html>